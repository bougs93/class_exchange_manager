/// 앱 정보 상수
/// 
/// 프로그램 정보를 중앙에서 관리합니다.
class AppInfo {
  // 프로그램명
  static const String programName = '교사용 수업 교체 관리자';
  
  // 버전 정보
  static const String version = '0.9.0 beta'; // 버전 번호는 나중에 추가 가능

  // 소속
  static const String affiliation = 'Noah Lab';

  // 제작자 정보
  static const String developer = 'Jeong won-gil';
  
  
  // 프로그램 소개
  static const String description = '''
대한민국의 교육 시스템에 맞는 교사용 수업 교체 관리 프로그램입니다.
시간표 관리, 교체 가능한 수업 찾기, 결보강계획서 출력, 학급 교사 안내 등의 기능을 제공합니다.
''';
  
  // 프로그램 실행 가능 종료 날짜 (YYYY-MM-DD 형식)
  // null로 설정하려면 아래 값을 null로 변경하세요 (날짜 제한 없음)
  // 예시: null 또는 '2026-12-31'
  // (향후 null로 변경 가능하도록 nullable 타입 유지)
  // ignore: unnecessary_nullable_for_final_variable_declarations
  static const String? expiryDate = '2026-12-31'; // 날짜 제한 없이 사용하려면 null로 변경
  
  // 프로그램 실행 제한 정보
  static String get usageRestriction {
    final baseMessage = '''
본 프로그램은 고품질 기능 구현을 위해 일부 상용 라이브러리를 사용하고 있습니다.

이에 따라 정식 배포 시 라이선스 비용이 발생하며, 이는 향후 일부 광고 또는 유료 구매를 통해 충당될 예정입니다.

현재 제공되는 버전은 정식 출시 전 '베타 테스트 버전'으로, 테스트 기간 동안 무료로 이용 가능합니다.

베타 기간 종료 후에는 정식 버전으로의 업그레이드가 필요할 수 있으니 이용에 참고 바랍니다.''';
    
    if (expiryDate == null) {
      return baseMessage;
    } else {
      return '$baseMessage\n\n사용 가능 기간 : ~ $expiryDate';
    }
  }
  
  /// 프로그램 실행 가능 여부 확인
  /// 
  /// 반환값:
  /// - `true`: 실행 가능
  /// - `false`: 만료됨
  static bool isExpired() {
    if (expiryDate == null) {
      return false; // 날짜 제한이 없으면 만료되지 않음
    }
    
    try {
      final expiry = DateTime.parse(expiryDate!);
      final now = DateTime.now();
      // 오늘 날짜가 만료일보다 나중이면 만료
      return now.isAfter(expiry);
    } catch (e) {
      // 날짜 파싱 실패 시 실행 가능으로 간주
      return false;
    }
  }
  
  /// 만료일까지 남은 일수
  /// 
  /// 반환값:
  /// - `null`: 날짜 제한이 없음
  /// - 음수: 만료됨
  /// - 양수: 남은 일수
  static int? getDaysUntilExpiry() {
    if (expiryDate == null) {
      return null;
    }
    
    try {
      final expiry = DateTime.parse(expiryDate!);
      final now = DateTime.now();
      return expiry.difference(now).inDays;
    } catch (e) {
      return null;
    }
  }
  
  // 업데이트 정보
  static const String updateInfo = '''
최신 업데이트 정보는 홈페이지를 참조해주세요.
''';
  
  // 회사 정보
  static const String contact = '''
주소 : 광주광역시 북구 안산로 76 4층
연락처 : 062-267-0153
''';
  
  // 라이센스 정보
  static const String license = '''
베타 테스트 기간 동안 무료로 이용 가능합니다.
''';
  
  // 사용법 도움말
  static const String help = '''
프로그램 시작하기

1. 엑셀 파일 선택
   - 왼쪽 상단 메뉴(☰)에서 '엑셀 파일 선택'을 클릭합니다
   - 시간표가 저장된 엑셀 파일(.xlsx)을 선택합니다
   - 프로그램이 자동으로 시간표를 읽어와 화면에 표시합니다
   - 한 번 선택한 파일은 다음 실행 시 자동으로 불러옵니다

2. 시간표 보기
   - 선택한 엑셀 파일의 전체 시간표가 그리드 형태로 표시됩니다
   - 각 셀에는 교사명, 과목명, 학급 정보가 표시됩니다
   - 행은 요일(월~금), 열은 교시를 나타냅니다


교체 관리 기능

1. 교체 모드 선택
   - '교체 관리' 메뉴로 이동합니다
   - 화면 상단의 모드 버튼으로 원하는 교체 방식을 선택합니다

2. 1:1 교체 (두 교사 간 직접 교체)
   - '1:1 교체' 모드를 선택합니다
   - 교체하고자 하는 첫 번째 교사의 시간표 셀을 클릭합니다
   - 교체하고자 하는 두 번째 교사의 시간표 셀을 클릭합니다
   - 교체 가능 여부를 확인하고 '교체 실행' 버튼을 클릭합니다
   - 교체된 시간표는 색상이 변경되어 표시됩니다

3. 순환 교체 (여러 교사가 연쇄적으로 교체)
   - '순환 교체' 모드를 선택합니다
   - 교체에 참여할 교사들의 시간표 셀을 순서대로 클릭합니다 (2~5명)
   - 각 교사는 다음 교사의 시간표를 받게 됩니다
   - 예: A→B→C→A 순서로 순환 교체됩니다
   - 교체 경로를 확인하고 '교체 실행' 버튼을 클릭합니다

4. 교체불가 시간 설정
   - '교체불가 편집' 모드를 선택합니다
   - 교체가 불가능한 시간표 셀을 클릭합니다
   - 해당 셀이 회색으로 표시되어 교체 대상에서 제외됩니다
   - 필요시 다시 클릭하여 교체불가 설정을 해제할 수 있습니다


개인 시간표 보기

1. 개인 시간표 확인
   - '개인 시간표' 메뉴로 이동합니다
   - 교사명을 선택하면 해당 교사의 시간표만 필터링되어 표시됩니다
   - 자신의 시간표와 교체된 시간을 한눈에 확인할 수 있습니다


결보강계획서 및 문서 생성

1. 결보강계획서 작성
   - '결보강계획서' 메뉴로 이동합니다
   - 결석 날짜와 보강 날짜를 선택합니다
   - 보강할 과목을 선택하거나 직접 입력합니다
   - 교체된 교사 정보가 자동으로 반영됩니다

2. PDF 문서 출력
   - 결보강계획서 작성 후 'PDF 출력' 버튼을 클릭합니다
   - 학교명, 교사명 등 기본 정보를 입력합니다 (설정에서 미리 저장 가능)
   - 저장 위치를 선택하고 파일명을 입력합니다
   - PDF 파일이 생성되어 저장됩니다

3. 학급 안내장 생성
   - 학급 교사에게 전달할 안내장을 생성할 수 있습니다
   - 교체 정보와 함께 QR코드가 포함되어 생성됩니다
   - QR코드를 스캔하면 교체 상세 정보를 확인할 수 있습니다


설정 관리

1. 기본 정보 설정
   - '설정' 메뉴로 이동합니다
   - 기본 교사명과 학교명을 입력하여 저장할 수 있습니다
   - PDF 출력 시 자동으로 입력되어 편리합니다

2. 언어 설정
   - 한국어/영어 등 언어를 선택할 수 있습니다

3. 시간표 테마 설정
   - 시간표 그리드의 색상과 스타일을 변경할 수 있습니다
   - 교체 가능한 셀, 교체된 셀 등의 색상을 개인 취향에 맞게 설정합니다


유용한 팁

1. 교체 내역 확인
   - 교체를 실행하면 자동으로 교체 내역이 저장됩니다
   - 언제든지 교체 내역을 확인하고 필요시 취소할 수 있습니다

2. 데이터 저장
   - 엑셀 파일, 교체 내역, 설정 등 모든 데이터는 자동으로 저장됩니다
   - 프로그램을 다시 실행해도 이전 작업 내용이 유지됩니다

3. 교체 경로 탐색
   - 교체하려는 시간에 다른 교사가 있는 경우 자동으로 경고가 표시됩니다
   - 교체 가능한 다른 시간을 찾아 제안해줍니다

4. 필터 및 검색
   - 교사명이나 과목명으로 필터링하여 원하는 정보만 볼 수 있습니다
   - 검색 기능을 사용하여 특정 교사나 과목을 빠르게 찾을 수 있습니다
''';
  
  // 홈페이지 링크 (여러 개 지원)
  // name: 링크 이름, url: 링크 주소
  static const List<Map<String, String>> homepageLinks = [
    {'name': '노아랩 카페(https://icmake.com/)', 'url': 'https://cafe.naver.com/partnara'},
    {'name': '노아랩랩 홈페이지(공사중)', 'url': 'https://NoahSystem.github.io/'},
    // 필요에 따라 링크 추가
  ];
}
